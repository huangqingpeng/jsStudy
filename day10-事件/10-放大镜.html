<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <style>
	*{
		margin:0;
		padding:0;
	}
	.small-box{
		width:300px;
		border:1px solid #ccc;
		position:relative;
		float:left;
		margin:10px 50px;
		cursor:move;
		overflow:hidden;
	}
	.small-box img{
		width:300px;
		
	}
	.small-box .tool{
		width:100px;
		height:100px;
		background-color:gold;
		opacity:0.7;
		filter:alpha(opacity=70);
		position:absolute;
		/*left:10px;
		top:0;*/
		display:none;
	}
	.small-box .tool.active{
		display:block;
	}
	.big-box{
		width:400px;
		height:400px;
		border:1px solid #ccc;
		overflow:hidden;
		float:left;
		margin:10px 10px;
		position:relative;
		display:none;
	}
	.active{
		display:block;
	}
	.big-box img{
		width:1200px;
		position:absolute;
	}
  </style>
	
 </head>
 <body>
	<!--左边的小盒子-->
	<div class="small-box" id="smallBox">
		<img src="img/awe.jpg" />
		<!--放大镜工具盒子-->
		<div class="tool" id="tool"></div>
	</div>
	<!--右边的大盒子-->
	<div class="big-box" id="bigBox">
		<img src="img/awe.jpg" id="bigImg" />
	</div>
	<script type="text/javascript">
		var smallBox=document.getElementById("smallBox");
		var oTool=document.getElementById("tool");
		var bigBox=document.getElementById("bigBox");
		var oImg=document.getElementById("bigImg");
		smallBox.onmouseenter=function(){
			oTool.className="tool active";
			bigBox.className="big-box  active";
		}
		smallBox.onmousemove=function(e){
			var _e=window.event||e;
			var x=_e.clientX-oTool.offsetWidth/2-smallBox.offsetLeft;
			var y=_e.clientY-oTool.offsetHeight/2-smallBox.offsetTop;
			if(x<0){
				x=0;
			}
			if(y<0){
				y=0
			}
			//小盒子的宽度-移动的盒子的宽度为右边界
			if(x>smallBox.offsetWidth-tool.offsetWidth){
				x=smallBox.offsetWidth-tool.offsetWidth;
			}
			if(y>smallBox.offsetHeight-tool.offsetHeight){
				y=smallBox.offsetHeight-tool.offsetHeight;
			}
			oTool.style.left=x+"px";
			oTool.style.top=y+"px";
			oImg.style.left=-x*4+"px";
			oImg.style.top=-y*4+"px";
			
		}
		
		
		smallBox.onmouseleave=function(){
			oTool.className="tool";
			bigBox.className="big-box";
		}
	</script>
 
 </body>
</html>

